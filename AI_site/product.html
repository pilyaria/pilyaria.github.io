<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title id="page-title">Product — AI SEARCH</title>
  <link rel="shortcut icon" href="img/teploicon1.ico" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/style.css" />

  <!-- Стили для страницы товара -->
  <style>
    .breadcrumb { margin: 12px 0 24px; font-size: 14px; }
    .breadcrumb a { color: #0066cc; text-decoration: none; }
    .breadcrumb a:hover { text-decoration: underline; }

    .product-detail {
      display: grid;
      grid-template-columns: 1.2fr 1fr;
      gap: 24px;
      align-items: start;
    }
    .gallery { display: flex; flex-direction: column; gap: 12px; }
    .gallery #hero {
      width: 100%;
      border-radius: 10px;
      border: 1px solid #eee;
      object-fit: cover;
    }
    .thumbs { display: flex; gap: 8px; flex-wrap: wrap; }
    .thumbs img {
      width: 88px; height: 88px; object-fit: cover;
      border: 1px solid #ddd; border-radius: 8px; cursor: pointer;
      transition: transform .1s;
    }
    .thumbs img:hover { transform: scale(1.03); }

    .info h1 { margin: 0 0 12px; font-size: 28px; }
    .price { margin: 8px 0 16px; font-size: 20px; }
    .price strong { font-size: 26px; margin-right: 8px; }
    .price del { color: #999; }
    .sku { color:#888; font-size: 14px; margin: 0 0 12px; }
    .desc { color: #555; line-height: 1.6; }

    /* КНОПКИ */
    .buy-actions { display: flex; gap: 12px; margin: 16px 0 24px; }
    .btn {
      display: inline-block; padding: 12px 20px; border: 0; border-radius: 0;
      cursor: pointer; font-weight: 700; font-family: inherit;
    }
    .btn-primary { background: #3e59e0; color: #fff; }
    .btn-primary:hover { background: #354fcb; }
    .btn-secondary { background: #2e8b57; color: #fff; }
    .btn-secondary:hover { filter: brightness(0.95); }

    @media (max-width: 900px) {
      .product-detail { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <div class="main-container">

    <nav class="breadcrumb">
      <a href="index.html">← Back to catalog</a>
    </nav>

    <!-- Карточка товара -->
    <section id="product" class="product-detail" hidden>
      <div class="gallery">
        <img id="hero" src="" alt="">
        <div id="thumbs" class="thumbs"></div>
      </div>

      <div class="info">
        <h1 id="name"></h1>
        <p class="price">
          <strong id="price"></strong>
          <del id="oldPrice"></del>
        </p>

        <!-- КНОПКИ: вернули -->
        <div class="buy-actions">
          <button class="btn btn-primary" id="buyBtn">Buy</button>
          <button class="btn btn-secondary" id="addToCartBtn">Add to cart</button>
        </div>

        <p id="sku" class="sku"></p>
        <p id="desc" class="desc"></p>

        <!-- Key features -->
        <section id="features-section" class="features-wrap" hidden>
          <h3 class="subhead">Key features</h3>
          <ul id="features" class="features"></ul>
        </section>
      </div>
    </section>

    <section id="not-found" hidden>
      <h1>Товар не найден</h1>
      <p><a href="index.html">Вернуться в каталог</a></p>
    </section>
  </div>

  <!-- ДАННЫЕ ТОВАРОВ -->
  <script>
    window.PRODUCTS = {
      "hat-001": {
        title: "Winter hat",
        price: 1500, oldPrice: 2000, sku: "hat-001",
        images: ["img/shop/assets_task_01k62vm0a7f8s9c4p2hmahd0t7_1758885239_img_0.webp"],
        description: "A warm, soft-touch winter hat designed for everyday wear. The snug knit and cozy lining keep you comfortable in cold, windy conditions.",
        features: [
          "Soft knit with comfy inner lining",
          "Warmth without bulk",
          "Unisex, one-size fit",
          "Easy care: machine wash cold"
        ]
      },
      "hat-002": {
        title: "Winter hat",
        price: 1200, oldPrice: 1500, sku: "hat-002",
        images: ["img/shop/assets_task_01k62vm0a7f8s9c4p2hmahd0t7_1758885239_img_1.webp"],
        description: "A classic rib-knit beanie that holds its shape and fits neatly under a hood. Lightweight, breathable, and made for daily use.",
        features: [
          "Rib-knit construction for a secure fit",
          "Breathable and comfortable all day",
          "Works with helmets and hoods",
          "Low-maintenance, quick-dry fabric"
        ]
      },
      "boots-001": {
        title: "Winter boots",
        price: 720, oldPrice: 980, sku: "boots-001",
        images: [
          "img/shop/assets_task_01k62wh0m5fzj9g3mjnwgj3cqh_1758886170_img_1.webp",
          "img/shop/assets_task_01k63bsy2yfqxb89v9g6ygy0jd_1758902310_img_0.webp"
        ],
        description: "Insulated winter boots built for traction and warmth. A durable upper and grippy outsole help you stay steady on wet or snowy surfaces.",
        features: [
          "Warm insulated lining",
          "Water-resistant upper",
          "Slip-resistant rubber outsole",
          "Adjustable lace-up fit"
        ]
      },
      "boots-002": {
        title: "Winter boots",
        price: 700, oldPrice: 1000, sku: "boots-002",
        images: [
          "img/shop/assets_task_01k62wkbsyf2wtftvztpwb0vp9_1758886238_img_1.webp",
          "img/shop/assets_task_01k63bv1erfxpthsq0awxqybhe_1758902328_img_1.webp"
        ],
        description: "Everyday winter boots with a cozy lining and easy on/off design. Comfortable support for commuting, errands, and weekend walks.",
        features: [
          "Soft, warm lining",
          "Water-repellent finish",
          "Cushioned midsole for comfort",
          "Easy entry design"
        ]
      },
      "jacket-001": {
        title: "Winter jacket",
        price: 720, oldPrice: 980, sku: "jacket-001",
        images: [
          "img/shop/assets_task_01k62wx6cgfbgsqffh60tw87ym_1758886623_img_0.webp",
          "img/shop/assets_task_01k63cbp5wenk8a37hpc2tfgdj_1758902856_img_0.webp"
        ],
        description: "A warm, everyday winter jacket with a weather-resistant shell and practical storage. Comfortable insulation without extra bulk.",
        features: [
          "Insulated core for reliable warmth",
          "Water-repellent outer fabric",
          "Adjustable hood",
          "Multiple secure pockets"
        ]
      },
      "jacket-002": {
        title: "Winter jacket",
        price: 700, oldPrice: 1000, sku: "jacket-002",
        images: [
          "img/shop/assets_task_01k62wx6cgfbgsqffh60tw87ym_1758886623_img_1.webp",
          "img/shop/assets_task_01k63cjs6qfsvaqs252bv4nhhh_1758903096_img_0.webp"
        ],
        description: "A lightweight insulated jacket with a clean, quilted look. Ideal for city wear and travel when you want warmth and easy layering.",
        features: [
          "Great warmth-to-weight",
          "Wind-resistant shell",
          "Packs easily for travel",
          "Minimal, versatile design"
        ]
      },
      "pants-001": {
        title: "Winter pants",
        price: 720, oldPrice: 980, sku: "pants-001",
        images: [
          "img/shop/assets_task_01k62x7gzhe8vbhby09zyrs7mt_1758886906_img_0.webp",
          "img/shop/assets_task_01k63c2y23e84a08whvtq9j256_1758902556_img_0.webp"
        ],
        description: "Warm winter pants with a soft inner feel and an easy straight fit. Great for walks, commutes, and casual outdoor time.",
        features: [
          "Cozy fleece-like interior",
          "Straight, comfy fit",
          "Secure zip pockets",
          "Easy care for daily wear"
        ]
      },
      "pants-002": {
        title: "Winter pants",
        price: 700, oldPrice: 1000, sku: "pants-002",
        images: [
          "img/shop/assets_task_01k62x7gzhe8vbhby09zyrs7mt_1758886906_img_1.webp",
          "img/shop/assets_task_01k63caph4fsfahfap1y86nkvh_1758902800_img_0.webp"
        ],
        description: "Outdoor-ready winter pants with a soft, weather-resistant face and a comfortable lining. Built for movement and changing conditions.",
        features: [
          "Water-repellent soft-shell",
          "Soft inner backing for warmth",
          "Articulated knees for mobility",
          "Adjustable hem to fit over boots"
        ]
      }
    };
  </script>

  <!-- РЕНДЕР карточки товара -->
  <script>
    (function () {
      const params = new URLSearchParams(location.search);
      const id = params.get('id');
      const db = window.PRODUCTS || {};
      const item = db[id];

      const notFound = document.getElementById('not-found');
      const productSec = document.getElementById('product');
      if (!item) {
        notFound.hidden = false;
        return;
      }

      // Заголовок страницы
      document.getElementById('page-title').textContent = `${item.title} — AI SEARCH`;

      // Галерея
      const hero = document.getElementById('hero');
      const thumbs = document.getElementById('thumbs');
      hero.src = item.images[0];
      hero.alt = item.title;
      thumbs.innerHTML = '';
      (item.images || []).forEach((src, i) => {
        const t = document.createElement('img');
        t.src = src;
        t.alt = `${item.title} ${i+1}`;
        t.addEventListener('click', () => { hero.src = src; });
        thumbs.appendChild(t);
      });

      // Текстовая информация
      document.getElementById('name').textContent = item.title;
      document.getElementById('price').textContent = '₽' + Number(item.price).toLocaleString('ru-RU');
      document.getElementById('oldPrice').textContent = item.oldPrice ? '₽' + Number(item.oldPrice).toLocaleString('ru-RU') : '';
      document.getElementById('sku').textContent = 'ID: ' + item.sku;
      document.getElementById('desc').textContent = item.description || '';

      // Features
      const featuresWrap = document.getElementById('features-section');
      const featuresEl = document.getElementById('features');
      if (item.features && item.features.length) {
        featuresEl.innerHTML = item.features.map(f => `<li>${f}</li>`).join('');
        featuresWrap.hidden = false;
      } else {
        featuresWrap.hidden = true;
      }

      // Показать карточку
      productSec.hidden = false;

      // Обработчики кнопок (демо)
      const buyBtn = document.getElementById('buyBtn');
      const cartBtn = document.getElementById('addToCartBtn');
      if (buyBtn) {
        buyBtn.addEventListener('click', () => {
          alert('Purchase: ' + item.title + ' (' + item.sku + ')');
        });
      }
      if (cartBtn) {
        cartBtn.addEventListener('click', () => {
          alert('Added to cart: ' + item.title);
        });
      }
    })();
  </script>
</body>
</html>
